
[functions.send-email]
enabled = true
verify_jwt = true
import_map = "./functions/send-email/deno.json"
entrypoint = "./functions/send-email/index.ts"

[functions.send-checkout-email]
enabled = true
verify_jwt = true
import_map = "./functions/send-checkout-email/deno.json"
# Uncomment to specify a custom file path to the entrypoint.
# Supported file extensions are: .ts, .js, .mjs, .jsx, .tsx
entrypoint = "./functions/send-checkout-email/index.ts"
# Specifies static files to be bundled with the function. Supports glob patterns.
# For example, if you want to serve static HTML pages in your function:
# static_files = [ "./functions/send-checkout-email/*.html" ]

[functions.checkEmail]
enabled = true
verify_jwt = true
import_map = "./functions/checkEmail/deno.json"
# Uncomment to specify a custom file path to the entrypoint.
# Supported file extensions are: .ts, .js, .mjs, .jsx, .tsx
entrypoint = "./functions/checkEmail/index.ts"
# Specifies static files to be bundled with the function. Supports glob patterns.
# For example, if you want to serve static HTML pages in your function:
# static_files = [ "./functions/checkEmail/*.html" ]

[functions.scrape-all-scheduled]
enabled = true
verify_jwt = false
entrypoint = "./functions/scrape-all-scheduled/index.ts"

# Called by cron every ~2 min to process scrape_jobs queue (use SCRAPE_TRIGGER_TOKEN or service role).
[functions.scrape-job-worker]
enabled = true
verify_jwt = false
entrypoint = "./functions/scrape-job-worker/index.ts"

[functions.paystack-webhook]
enabled = true
verify_jwt = false
entrypoint = "./functions/paystack-webhook/index.ts"

[functions.wallet-fund-initialize]
enabled = true
verify_jwt = true
entrypoint = "./functions/wallet-fund-initialize/index.ts"

[functions.wallet-fund]
enabled = true
verify_jwt = true
entrypoint = "./functions/wallet-fund/index.ts"

[functions.creator-remove-from-dobbletap]
enabled = true
verify_jwt = true
entrypoint = "./functions/creator-remove-from-dobbletap/index.ts"

[functions.creator-sync-from-dobbletap]
enabled = true
verify_jwt = true
entrypoint = "./functions/creator-sync-from-dobbletap/index.ts"

[functions.creator-stats-sync-from-dobbletap]
enabled = true
verify_jwt = true
entrypoint = "./functions/creator-stats-sync-from-dobbletap/index.ts"

[functions.activation-submission-webhook]
enabled = true
verify_jwt = false
entrypoint = "./functions/activation-submission-webhook/index.ts"

# Dobbletap Webhook Endpoints
[functions.dobbletap-webhook-submission]
enabled = true
verify_jwt = false
entrypoint = "./functions/dobbletap-webhook-submission/index.ts"

[functions.dobbletap-webhook-status-change]
enabled = true
verify_jwt = false
entrypoint = "./functions/dobbletap-webhook-status-change/index.ts"

[functions.dobbletap-webhook-review-decision]
enabled = true
verify_jwt = false
entrypoint = "./functions/dobbletap-webhook-review-decision/index.ts"

[functions.dobbletap-webhook-post-submitted]
enabled = true
verify_jwt = false
entrypoint = "./functions/dobbletap-webhook-post-submitted/index.ts"

[functions.dobbletap-webhook-campaign-completed]
enabled = true
verify_jwt = false
entrypoint = "./functions/dobbletap-webhook-campaign-completed/index.ts"

[functions.dobbletap-webhook-verification-completed]
enabled = true
verify_jwt = false
entrypoint = "./functions/dobbletap-webhook-verification-completed/index.ts"

# Activation Publishing (DTTracker → Dobbletap sync)
[functions.activation-publish]
enabled = true
verify_jwt = false
entrypoint = "./functions/activation-publish/index.ts"

# Sync existing activation to Dobble Tap (e.g. live but not yet synced)
[functions.activation-sync-to-dobbletap]
enabled = true
verify_jwt = false
entrypoint = "./functions/activation-sync-to-dobbletap/index.ts"

# Send Offer to Creator (Brand → Creator activation invite)
[functions.send-offer-to-activation]
enabled = true
verify_jwt = false
entrypoint = "./functions/send-offer-to-activation/index.ts"

# Creator Request Management
[functions.create-creator-request]
enabled = true
verify_jwt = false
entrypoint = "./functions/create-creator-request/index.ts"

# Creator Quote Callback (Dobbletap → DTTracker when creator quotes)
[functions.creator-quote-callback]
enabled = true
verify_jwt = false
entrypoint = "./functions/creator-quote-callback/index.ts"

# Notify brand when creator quote received
[functions.notify-creator-quote]
enabled = true
verify_jwt = false
entrypoint = "./functions/notify-creator-quote/index.ts"

# Notify Dobbletap when brand accepts/rejects quote
[functions.notify-dobbletap-quote-decision]
enabled = true
verify_jwt = false
entrypoint = "./functions/notify-dobbletap-quote-decision/index.ts"
